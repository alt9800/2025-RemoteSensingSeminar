<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚·ãƒ³ãƒ—ãƒ«ãªAPIå‘¼ã³å‡ºã—ä¾‹</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        
        h1, h2 {
            color: #333;
        }
        
        button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 10px 5px;
            border-radius: 5px;
            cursor: pointer;
        }
        
        button:hover {
            background-color: #0056b3;
        }
        
        button:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }
        
        .section {
            border: 1px solid #ddd;
            margin: 20px 0;
            padding: 20px;
            border-radius: 5px;
        }
        
        .result {
            margin-top: 20px;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            background-color: #f9f9f9;
        }
        
        .error {
            color: red;
            background-color: #ffe6e6;
            padding: 10px;
            border-radius: 5px;
        }
        
        img {
            max-width: 100%;
            height: auto;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        
        .loading {
            color: #666;
            font-style: italic;
        }
    </style>
</head>
<body>
    <h1>ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰APIå‘¼ã³å‡ºã—ã®åŸºæœ¬ä¾‹</h1>
    
    <!-- Dog API Section -->
    <div class="section">
        <h2>ğŸ• Dog API - ãƒ©ãƒ³ãƒ€ãƒ ãªçŠ¬ã®ç”»åƒ</h2>
        <p>Dog APIã‹ã‚‰ãƒ©ãƒ³ãƒ€ãƒ ãªçŠ¬ã®ç”»åƒã‚’å–å¾—ã—ã¾ã™ã€‚</p>
        <button id="fetchDogBtn">çŠ¬ã®ç”»åƒã‚’å–å¾—</button>
        <div id="dogResult" class="result"></div>
    </div>

    <!-- Lorem Picsum API Section -->
    <div class="section">
        <h2>ğŸ“¸ Lorem Picsum API - ãƒ©ãƒ³ãƒ€ãƒ ãªç”»åƒ</h2>
        <p>Lorem Picsum APIã‹ã‚‰ãƒ©ãƒ³ãƒ€ãƒ ãªç”»åƒã‚’å–å¾—ã—ã¾ã™ã€‚</p>
        <button id="fetchPicsumBtn">ãƒ©ãƒ³ãƒ€ãƒ ç”»åƒã‚’å–å¾—</button>
        <div id="picsumResult" class="result"></div>
    </div>

    <script>
        // Dog API - ãƒ©ãƒ³ãƒ€ãƒ ãªçŠ¬ã®ç”»åƒã‚’å–å¾—
        function fetchDogImage() {
            const resultDiv = document.getElementById('dogResult');
            const button = document.getElementById('fetchDogBtn');
            
            // ãƒœã‚¿ãƒ³ã‚’ç„¡åŠ¹åŒ–ã—ã€ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤º
            button.disabled = true;
            resultDiv.innerHTML = '<p class="loading">ç”»åƒã‚’å–å¾—ä¸­...</p>';
            
            // APIã‚’å‘¼ã³å‡ºã—
            fetch('https://dog.ceo/api/breeds/image/random')
                .then(response => {
                    // ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’JSONã«å¤‰æ›
                    return response.json();
                })
                .then(data => {
                    // ãƒ‡ãƒ¼ã‚¿ã‚’å‡¦ç†
                    if (data.status === 'success') {
                        resultDiv.innerHTML = `
                            <p>å–å¾—æˆåŠŸï¼</p>
                            <img src="${data.message}" alt="ãƒ©ãƒ³ãƒ€ãƒ ãªçŠ¬ã®ç”»åƒ">
                            <p><strong>ç”»åƒURL:</strong> ${data.message}</p>
                        `;
                    } else {
                        throw new Error('APIã‹ã‚‰ã®å¿œç­”ãŒæ­£å¸¸ã§ã¯ã‚ã‚Šã¾ã›ã‚“');
                    }
                })
                .catch(error => {
                    // ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
                    resultDiv.innerHTML = `<p class="error">ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ: ${error.message}</p>`;
                    console.error('Dog API ã‚¨ãƒ©ãƒ¼:', error);
                })
                .finally(() => {
                    // ãƒœã‚¿ãƒ³ã‚’å†åº¦æœ‰åŠ¹åŒ–
                    button.disabled = false;
                });
        }

        // Lorem Picsum API - ãƒ©ãƒ³ãƒ€ãƒ ãªç”»åƒã‚’å–å¾—
        function fetchPicsumImage() {
            const resultDiv = document.getElementById('picsumResult');
            const button = document.getElementById('fetchPicsumBtn');
            
            // ãƒœã‚¿ãƒ³ã‚’ç„¡åŠ¹åŒ–ã—ã€ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤º
            button.disabled = true;
            resultDiv.innerHTML = '<p class="loading">ç”»åƒã‚’ç”Ÿæˆä¸­...</p>';
            
            // ãƒ©ãƒ³ãƒ€ãƒ ãªIDã‚’ç”Ÿæˆï¼ˆ1-1000ã®ç¯„å›²ï¼‰
            const randomId = Math.floor(Math.random() * 1000) + 1;
            const imageUrl = `https://picsum.photos/400/300?random=${randomId}`;
            
            // ç”»åƒã®èª­ã¿è¾¼ã¿ã‚’ç¢ºèªã™ã‚‹ãŸã‚ã€æ–°ã—ã„Imageã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ
            const img = new Image();
            
            img.onload = function() {
                // ç”»åƒã®èª­ã¿è¾¼ã¿ãŒæˆåŠŸã—ãŸæ™‚
                resultDiv.innerHTML = `
                    <p>ç”»åƒç”ŸæˆæˆåŠŸï¼</p>
                    <img src="${imageUrl}" alt="ãƒ©ãƒ³ãƒ€ãƒ ãªç”»åƒ">
                    <p><strong>ç”»åƒURL:</strong> ${imageUrl}</p>
                    <p><strong>ç”»åƒID:</strong> ${randomId}</p>
                `;
                button.disabled = false;
            };
            
            img.onerror = function() {
                // ç”»åƒã®èª­ã¿è¾¼ã¿ãŒå¤±æ•—ã—ãŸæ™‚
                resultDiv.innerHTML = `<p class="error">ç”»åƒã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸ</p>`;
                console.error('Lorem Picsum ç”»åƒèª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼');
                button.disabled = false;
            };
            
            // ç”»åƒã®srcã‚’è¨­å®šï¼ˆèª­ã¿è¾¼ã¿é–‹å§‹ï¼‰
            img.src = imageUrl;
        }

        // ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã‚’è¨­å®š
        document.getElementById('fetchDogBtn').addEventListener('click', fetchDogImage);
        document.getElementById('fetchPicsumBtn').addEventListener('click', fetchPicsumImage);

        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«Dog APIã‚’å®Ÿè¡Œï¼ˆãƒ‡ãƒ¢ç”¨ï¼‰
        window.addEventListener('load', function() {
            console.log('ãƒšãƒ¼ã‚¸ãŒèª­ã¿è¾¼ã¾ã‚Œã¾ã—ãŸ');
            fetchDogImage();
        });
    </script>
</body>
</html>